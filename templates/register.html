<!-- templates/register.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Create Account • DermAI</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* ===== Enhanced theme (drop in both login & register pages) ===== */
:root{
  --bg:#0b1220;
  --card:#ffffffcc;           /* translucent white */
  --text:#0f172a;
  --muted:#64748b;
  --brand:#2163e8;
  --brand-2:#133a96;
  --ring:rgba(33,99,232,.14);
  --accent:#7ef0ff;
  --accent-2:#8ab0ff;
}

/* base */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Poppins,system-ui,-apple-system,sans-serif;
  color:var(--text);
  background:var(--bg);
  overflow-x:hidden;
  position:relative;                 /* for ::before overlay */
  cursor: none;
}

/* Custom cursor */
.cursor {
  position: fixed;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: radial-gradient(circle, var(--accent), var(--brand));
  pointer-events: none;
  z-index: 9999;
  mix-blend-mode: difference;
  transition: transform 0.2s ease;
}

.cursor-follower {
  position: fixed;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: 2px solid rgba(126, 240, 255, 0.5);
  pointer-events: none;
  z-index: 9998;
  transition: transform 0.4s ease;
}

/* fullscreen background + gradient overlay (no HTML change) */
body::before{
  content:"";
  position:fixed; inset:0;
  background-image:
    linear-gradient(180deg, rgba(11,18,32,.55), rgba(11,18,32,.78)),
    url('https://images.unsplash.com/photo-1614854262318-831574f15f1f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80');
  background-size:cover; background-position:center;
  filter:saturate(1.06) contrast(1.04);
  z-index:-1;
}

/* Animated background particles */
.particles {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  overflow: hidden;
}

.particle {
  position: absolute;
  border-radius: 50%;
  background: radial-gradient(circle, var(--accent), transparent);
  opacity: 0.3;
  animation: float 15s infinite linear;
}

@keyframes float {
  0% {
    transform: translateY(0) rotate(0deg);
    opacity: 0.3;
  }
  50% {
    transform: translateY(-20px) rotate(180deg);
    opacity: 0.6;
  }
  100% {
    transform: translateY(0) rotate(360deg);
    opacity: 0.3;
  }
}

/* layout */
.wrap{
  min-height:100svh; 
  display:grid; 
  place-items:center; 
  padding:28px;
  position: relative;
  z-index: 1;
}

/* glass card with enhanced styling */
.card{
  width:100%;
  max-width:480px;                 /* register has more fields, still fits */
  background:var(--card);
  backdrop-filter:blur(14px);
  -webkit-backdrop-filter:blur(14px);
  border:1px solid rgba(255,255,255,.35);
  border-radius:22px;
  padding:30px 28px;
  box-shadow:0 30px 60px rgba(12,24,48,.22);
  position:relative;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 40px 80px rgba(12,24,48,.3);
}

/* subtle gradient rim */
.card::after{
  content:""; position:absolute; inset:0; border-radius:22px; padding:1px;
  background:linear-gradient(135deg,var(--accent-2),var(--accent));
  -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude;
  opacity:.25; pointer-events:none;
}

h1{
  margin:0 0 10px; 
  font-size:28px; 
  color:#0b1b37;
  background: linear-gradient(135deg, var(--brand), var(--accent));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

p.sub{
  margin:0 0 20px; 
  color:#4b5b78; 
  font-size:14px;
  position: relative;
  padding-left: 15px;
}

p.sub::before {
  content: "";
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--brand);
}

/* brand row */
.brand{
  display:flex; 
  align-items:center; 
  gap:10px; 
  margin-bottom:12px;
  justify-content: center;
}

.brand i{
  color:#5b89ff;
  font-size: 24px;
  filter: drop-shadow(0 0 8px rgba(91, 137, 255, 0.5));
}

.brand span{
  font-weight:700; 
  letter-spacing:.2px;
  font-size: 24px;
  background: linear-gradient(135deg, var(--brand), var(--accent));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* form */
.row{
  display:flex; 
  gap:10px; 
  flex-direction:column; 
  margin:12px 0;
  position: relative;
}

label{
  font-size:13px; 
  color:#475569;
  font-weight: 500;
  margin-bottom: 5px;
  transition: color 0.3s ease;
}

/* enhanced inputs */
input{
  width:100%;
  padding:12px 14px;
  border:1px solid #e5e7eb;
  border-radius:14px;
  outline:none;
  background:#fff;
  font-size:14px;
  transition:border-color .2s ease, box-shadow .2s ease, transform .06s ease;
  position: relative;
  z-index: 1;
}

input::placeholder {
  color: #9ca3af;
  transition: color 0.3s ease;
}

input:focus{
  border-color:var(--brand);
  box-shadow:0 0 0 4px var(--ring), 0 5px 15px rgba(33, 99, 232, 0.2);
  transform: translateY(-2px);
}

input:focus::placeholder {
  color: transparent;
}

input:active{
  transform:translateY(1px);
}

/* animated input focus effect */
.input-container {
  position: relative;
  margin-bottom: 15px;
}

.input-highlight {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--brand), var(--accent));
  transition: width 0.3s ease;
}

input:focus ~ .input-highlight {
  width: 100%;
}

/* error */
.error{
  background:#fde8e8;
  border:1px solid #fecaca;
  color:#991b1b;
  padding:10px 12px;
  border-radius:12px;
  font-size:13px;
  margin-bottom:12px;
  animation: shake 0.5s ease-in-out;
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}

/* enhanced button */
.btn{
  width:100%;
  padding:12px 14px;
  border-radius:14px;
  border:none;
  background:linear-gradient(180deg,var(--brand),var(--brand-2));
  color:#fff;
  font-weight:600;
  cursor:pointer;
  letter-spacing:.2px;
  display:inline-flex; 
  align-items:center; 
  justify-content:center; 
  gap:8px;
  box-shadow:0 10px 22px rgba(33,99,232,.28);
  transition:filter .2s ease, transform .06s ease, box-shadow .2s ease;
  position: relative;
  overflow: hidden;
}

.btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
  transition: left 0.5s;
}

.btn:hover::before {
  left: 100%;
}

.btn:hover{
  filter:brightness(1.04);
  box-shadow: 0 15px 30px rgba(33,99,232,.4);
}

.btn:active{
  transform:translateY(1px);
}

.btn i{
  font-size:.95em;
  transition: transform 0.3s ease;
}

.btn:hover i {
  transform: translateX(3px);
}

/* alt footer link */
.alt{
  margin-top:14px; 
  text-align:center; 
  font-size:14px; 
  color:#e6e9f2;
  position: relative;
}

.alt a{
  color:#cfe1ff; 
  text-decoration:none;
  position: relative;
  padding: 5px 0;
  transition: color 0.3s ease;
}

.alt a::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 1px;
  background: var(--accent);
  transition: width 0.3s ease;
}

.alt a:hover{
  color: var(--accent);
}

.alt a:hover::after {
  width: 100%;
}

/* small responsiveness */
@media (max-width:520px){
  .card{
    padding:24px 20px; 
    border-radius:20px;
    margin: 0 15px;
  }
  h1{
    font-size:24px;
  }
  .brand span {
    font-size: 20px;
  }
}

/* Additional decorative elements */
.decorative-circle {
  position: absolute;
  border-radius: 50%;
  background: radial-gradient(circle, var(--accent), transparent);
  opacity: 0.1;
  z-index: 0;
}

.circle-1 {
  width: 200px;
  height: 200px;
  top: 10%;
  left: 5%;
  animation: float 20s infinite linear;
}

.circle-2 {
  width: 150px;
  height: 150px;
  bottom: 15%;
  right: 8%;
  animation: float 25s infinite linear reverse;
}

/* Login form specific animations */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.card {
  animation: fadeInUp 0.6s ease-out;
}

/* Password visibility toggle */
.password-toggle {
  position: absolute;
  right: 15px;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: var(--muted);
  cursor: pointer;
  z-index: 2;
}

.password-toggle:hover {
  color: var(--brand);
}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="brand"><i class="fa-solid fa-wand-magic-sparkles"></i><span>DermAI</span></div>
      <h1>Create your account</h1>
      <p class="sub">Register once, then you’ll be taken to the landing page.</p>

      {% if error %}<div class="error">{{ error }}</div>{% endif %}

      <form method="POST" action="{{ url_for('register') }}">
        <div class="row">
          <label for="name">Full name</label>
          <input id="name" name="name" type="text" placeholder="Jane Doe" required />
        </div>
        <div class="row">
          <label for="email">Email</label>
          <input id="email" name="email" type="email" placeholder="you@example.com" required />
        </div>
        <div class="row">
          <label for="password">Password</label>
          <input id="password" name="password" type="password" minlength="6" placeholder="At least 6 characters" required />
        </div>
        <div class="row">
          <label for="confirm">Confirm password</label>
          <input id="confirm" name="confirm" type="password" minlength="6" required />
        </div>
        <button class="btn" type="submit"><i class="fa-solid fa-user-plus"></i> Create account</button>
      </form>

      <div class="alt">Already have an account? <a href="{{ url_for('login') }}">Sign in</a></div>
    </div>
  </div>
</body>
<script>
  // Create particles for background
function createParticles() {
  const particlesContainer = document.createElement('div');
  particlesContainer.className = 'particles';
  document.body.appendChild(particlesContainer);
  
  for (let i = 0; i < 15; i++) {
    const particle = document.createElement('div');
    particle.className = 'particle';
    
    // Random size and position
    const size = Math.random() * 60 + 20;
    particle.style.width = `${size}px`;
    particle.style.height = `${size}px`;
    particle.style.left = `${Math.random() * 100}%`;
    particle.style.top = `${Math.random() * 100}%`;
    
    // Random animation delay
    particle.style.animationDelay = `${Math.random() * 15}s`;
    
    particlesContainer.appendChild(particle);
  }
}

// Custom cursor
function initCustomCursor() {
  const cursor = document.createElement('div');
  cursor.className = 'cursor';
  document.body.appendChild(cursor);
  
  const cursorFollower = document.createElement('div');
  cursorFollower.className = 'cursor-follower';
  document.body.appendChild(cursorFollower);
  
  document.addEventListener('mousemove', (e) => {
    cursor.style.left = e.clientX + 'px';
    cursor.style.top = e.clientY + 'px';
    
    setTimeout(() => {
      cursorFollower.style.left = e.clientX + 'px';
      cursorFollower.style.top = e.clientY + 'px';
    }, 100);
  });
  
  // Change cursor style on interactive elements
  const interactiveElements = document.querySelectorAll('input, button, a');
  interactiveElements.forEach(el => {
    el.addEventListener('mouseenter', () => {
      cursor.style.transform = 'scale(1.5)';
      cursorFollower.style.transform = 'scale(1.2)';
    });
    
    el.addEventListener('mouseleave', () => {
      cursor.style.transform = 'scale(1)';
      cursorFollower.style.transform = 'scale(1)';
    });
  });
}

// Add decorative circles
function addDecorativeElements() {
  const circle1 = document.createElement('div');
  circle1.className = 'decorative-circle circle-1';
  document.body.appendChild(circle1);
  
  const circle2 = document.createElement('div');
  circle2.className = 'decorative-circle circle-2';
  document.body.appendChild(circle2);
}

// Initialize all enhancements when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
  createParticles();
  initCustomCursor();
  addDecorativeElements();
  
  // Add password toggle functionality
  const passwordInput = document.querySelector('input[type="password"]');
  if (passwordInput) {
    const toggle = document.createElement('button');
    toggle.type = 'button';
    toggle.className = 'password-toggle';
    toggle.innerHTML = '<i class="fas fa-eye"></i>';
    
    const inputContainer = passwordInput.parentElement;
    inputContainer.style.position = 'relative';
    inputContainer.appendChild(toggle);
    
    toggle.addEventListener('click', () => {
      if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        toggle.innerHTML = '<i class="fas fa-eye-slash"></i>';
      } else {
        passwordInput.type = 'password';
        toggle.innerHTML = '<i class="fas fa-eye"></i>';
      }
    });
  }
});
</script>
</html>
